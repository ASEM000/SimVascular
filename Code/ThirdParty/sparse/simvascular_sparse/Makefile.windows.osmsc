
#
#  Copyright (c) 2012 Open Source Medical Software Corporation.
#  All rights reserved.
#

#
#  Windows
#

CC = CL
OPTS =  /Zi /Ox /MD
OBJEXT = obj
AR = lib /out:
LIBEXT = .lib

#
#  Linux
#

# AR = "ar rv "

LIB_DIR = .

OBJS = spAllocate.$(OBJEXT) \
       spBuild.$(OBJEXT) \
       spFactor.$(OBJEXT) \
       spOutput.$(OBJEXT) \
       spSolve.$(OBJEXT) \
       spUtils.$(OBJEXT) \
       spFortran.$(OBJEXT)

%.$(OBJEXT): %.c
	$(CC) $(OPTS) -c $<

all:   $(OBJS)
	$(AR)$(LIB_DIR)/libsparse$(LIBEXT) $(OBJS)

clean:
	rm -f *.$(OBJEXT)
	rm -f *.pdb
	rm -f *.lib

